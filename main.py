# --- ASCII Ğ±Ğ°Ğ½Ğ½ĞµÑ€ ---
ascii_banner = r"""
â–ˆâ–ˆâ•—â–‘â–‘â–‘â–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ•—
â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–‘â–ˆâ–ˆâ•”â•
â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â•šâ•â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•â•â–‘
â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â•šâ•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–‘â–‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–‘â•šâ•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–‘â•šâ•â•â•â–ˆâ–ˆâ•—â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•—â–‘
â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–‘â•šâ•â•â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â•šâ•â•â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–‘â•šâ–ˆâ–ˆâ•—
â–‘â•šâ•â•â•â•â•â•â–‘â•šâ•â•â•â•â•â•â–‘â•šâ•â•â•â•â•â•â•â•šâ•â•â–‘â–‘â•šâ•â•â•šâ•â•â•â•â•â•â–‘â•šâ•â•â–‘â–‘â–‘â–‘â–‘â•šâ•â•â•šâ•â•â–‘â–‘â–‘â–‘â–‘â•šâ•â•â•šâ•â•â•â•â•â•â–‘â–‘â–‘â–‘â•šâ•â•â–‘â–‘â–‘â•šâ•â•â–‘â•šâ•â•â•â•â•â–‘â•šâ•â•â–‘â–‘â•šâ•â•
"""
print(ascii_banner)

# --- ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Telethon Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ ---
from telethon import TelegramClient, events
import asyncio
import os

# === Ğ§Ñ‚ĞµĞ½Ğ¸Ğµ config.txt ===
CONFIG_FILE = "config.txt"

if os.path.exists(CONFIG_FILE):
    with open(CONFIG_FILE, "r", encoding="utf-8") as f:
        lines = f.read().splitlines()
        config = {}
        for line in lines:
            if "=" in line:
                key, value = line.split("=", 1)
                config[key.strip()] = value.strip()
    api_id = int(config.get("api_id", 0))
    api_hash = config.get("api_hash", "")
    phone = config.get("phone", "")
else:
    raise FileNotFoundError("âŒ Ğ¤Ğ°Ğ¹Ğ» config.txt Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½! Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ ĞµĞ³Ğ¾ Ñ€ÑĞ´Ğ¾Ğ¼ Ñ Ğ±Ğ¾Ñ‚Ğ¾Ğ¼.")

if not api_id or not api_hash or not phone:
    raise ValueError("âŒ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ config.txt â€” api_id, api_hash Ğ¸Ğ»Ğ¸ phone Ğ¿ÑƒÑÑ‚Ñ‹Ğµ!")

# === Ğ¤Ğ°Ğ¹Ğ»Ñ‹ Ğ´Ğ»Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ ===
WORDS_FILE = "words.txt"
STICKER_FILE = "sticker.txt"
OWNER_FILE = "owner.txt"

# === Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ ÑĞ»Ğ¾Ğ² ===
def load_words():
    if os.path.exists(WORDS_FILE):
        with open(WORDS_FILE, "r", encoding="utf-8") as f:
            return [w.strip() for w in f.read().split(",") if w.strip()]
    return ["ĞŸÑ€Ğ¸Ğ²ĞµÑ‚", "ĞšĞ°Ğº", "Ğ”ÑÑ‡ÑĞ°ÑÑ‡Ñ", "?"]

def save_words(words):
    with open(WORDS_FILE, "w", encoding="utf-8") as f:
        f.write(",".join(words))

# === Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ ID ÑÑ‚Ğ¸ĞºĞµÑ€Ğ° ===
def load_sticker_id():
    if os.path.exists(STICKER_FILE):
        with open(STICKER_FILE, "r", encoding="utf-8") as f:
            return int(f.read().strip())
    return 5287541904622245199  # Ğ´ĞµÑ„Ğ¾Ğ»Ñ‚Ğ½Ñ‹Ğ¹ id

def save_sticker_id(sticker_id):
    with open(STICKER_FILE, "w", encoding="utf-8") as f:
        f.write(str(sticker_id))

# === Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Owner ID ===
def load_owner_id():
    if os.path.exists(OWNER_FILE):
        with open(OWNER_FILE, "r", encoding="utf-8") as f:
            return int(f.read().strip())
    return 0

def save_owner_id(owner_id):
    with open(OWNER_FILE, "w", encoding="utf-8") as f:
        f.write(str(owner_id))

# Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸ ÑÑ‚Ğ°Ñ€Ñ‚Ğµ
WORDS = load_words()
TARGET_STICKER_ID = load_sticker_id()
OWNER_ID = load_owner_id()

client = TelegramClient("my_userbot", api_id, api_hash)

# === ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ½Ğ¾Ğ²Ñ‹Ñ… ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ ===
@client.on(events.NewMessage)
async def handler(event):
    global WORDS, TARGET_STICKER_ID, OWNER_ID
    msg = event.message

    # Ğ˜Ğ³Ğ½Ğ¾Ñ€Ğ¸Ñ€ÑƒĞµĞ¼ Ğ²ÑĞµÑ…, ĞºÑ€Ğ¾Ğ¼Ğµ Ğ¾Ğ²Ğ½ĞµÑ€Ğ°
    if msg.sender_id != OWNER_ID:
        return

    # --- .setwords ---
    if msg.raw_text and msg.raw_text.startswith(".setwords"):
        new_words_str = msg.raw_text[len(".setwords"):].strip()
        if new_words_str:
            WORDS = [w.strip() for w in new_words_str.split(",") if w.strip()]
            save_words(WORDS)
            await event.respond(f"âœ… Ğ¡Ğ»Ğ¾Ğ²Ğ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹: {', '.join(WORDS)}")
        else:
            await event.respond("âš ï¸ ĞĞ°Ğ¿Ğ¸ÑˆĞ¸ ÑĞ»Ğ¾Ğ²Ğ° Ñ‡ĞµÑ€ĞµĞ· Ğ·Ğ°Ğ¿ÑÑ‚ÑƒÑ Ğ¿Ğ¾ÑĞ»Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹!")
        return

    # --- .setstickerid ---
    if msg.raw_text and msg.raw_text.startswith(".setstickerid"):
        new_id_str = msg.raw_text[len(".setstickerid"):].strip()
        if new_id_str.isdigit():
            TARGET_STICKER_ID = int(new_id_str)
            save_sticker_id(TARGET_STICKER_ID)
            await event.respond(f"âœ… Sticker ID Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½: {TARGET_STICKER_ID}")
        else:
            await event.respond("âš ï¸ Ğ£ĞºĞ°Ğ¶Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ‡Ğ¸ÑĞ»Ğ¾Ğ²Ğ¾Ğ¹ ID!")
        return

    # --- .stickerid ---
    if msg.raw_text and msg.raw_text.startswith(".stickerid"):
        reply = await event.get_reply_message()
        if reply and reply.sticker:
            sticker_id = reply.media.document.id
            await event.respond(f"ğŸ†” ID ÑÑ‚Ğ¾Ğ³Ğ¾ ÑÑ‚Ğ¸ĞºĞµÑ€Ğ°: `{sticker_id}`")
        else:
            await event.respond("âš ï¸ ĞÑ‚Ğ²ĞµÑ‚ÑŒ ÑÑ‚Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¾Ğ¹ Ğ½Ğ° ÑÑ‚Ğ¸ĞºĞµÑ€!")
        return

    # --- Ğ ĞµĞ°ĞºÑ†Ğ¸Ñ Ğ½Ğ° ÑÑ‚Ğ¸ĞºĞµÑ€ ---
    if msg.sticker:
        doc = msg.media.document
        if doc.id == TARGET_STICKER_ID:
            print("âœ… ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½ ÑÑ‚Ğ¸ĞºĞµÑ€ c Ğ½ÑƒĞ¶Ğ½Ñ‹Ğ¼ id!")
            for word in WORDS:
                await event.respond(word)  
                await asyncio.sleep(0.1)

# === Ğ—Ğ°Ğ¿ÑƒÑĞº ===
async def main():
    global OWNER_ID

    await client.start(phone)
    me = await client.get_me()

    # Ğ•ÑĞ»Ğ¸ OWNER_ID ĞµÑ‰Ñ‘ Ğ½Ğµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ñ‘Ğ½ â€” ÑƒÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ ĞµĞ³Ğ¾
    if OWNER_ID == 0:
        OWNER_ID = me.id
        save_owner_id(OWNER_ID)

    # ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸ ĞšĞĞ–Ğ”ĞĞœ Ğ·Ğ°Ğ¿ÑƒÑĞºĞµ
    await client.send_message(
        OWNER_ID,
        "<b>ğŸ‰ Usersmmstick Ğ‘Ñ‹Ğ» Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ—Ğ°Ğ¿ÑƒÑ‰ĞµĞ½\n\n"
        f"ğŸ‘‘ Ğ¢Ğ²Ğ¾Ğ¹ Owner Id: {OWNER_ID}\n\n"
        "âœ… Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:\n"
        "<blockquote>"
        ".setwords  - \"ÑĞ»Ğ¾Ğ²Ğ¾ 1, ÑĞ»Ğ¾Ğ²Ğ¾ 2, ÑĞ»Ğ¾Ğ²Ğ¾ 3, Ğ¸ Ñ‚.Ğ´\"\n"
        ".stickerid  - Ğ¾Ñ‚Ğ²ĞµÑ‚ÑŒ Ğ½Ğ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¸ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ½Ğ°Ğ¿Ğ¸ÑˆĞµÑ‚ id ÑÑ‚Ğ¾Ğ³Ğ¾ ÑÑ‚Ğ¸ĞºĞµÑ€Ğ° (Ğ¿Ğ¾Ğ½Ğ°Ğ´Ğ¾Ğ±Ğ¸Ñ‚ÑÑ Ğ´Ğ»Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ .setstickerid)\n"
        ".setstickerid  - \"Id ÑÑ‚Ğ¸ĞºĞµÑ€Ğ°\"  ĞŸĞ¾ÑĞ»Ğµ, ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ±ÑƒĞ´ÑƒÑ‚ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¾ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ² ÑĞ»ÑƒÑ‡Ğ°Ğµ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ ÑÑ‚Ğ¸ĞºĞµÑ€Ğ° Ñ ÑÑ‚Ğ¸Ğ¼ id"
        "</blockquote>\n\n"
        "| Made by @oesxzu | â¤ï¸</b>",
        parse_mode="html"
    )

    print("âœ… Ğ®Ğ·ĞµÑ€Ğ±Ğ¾Ñ‚ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½! ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞ¹ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ² Ğ›Ğ¡.")
    await client.run_until_disconnected()

if __name__ == "__main__":
    with client:
        client.loop.run_until_complete(main())
